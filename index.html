<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§ØµÙ†Ø¹ ØªÙ‡Ù†Ø¦Ø© Ø±Ù…Ø¶Ø§Ù† ğŸŒ™</title>

<style>
body{
margin:0;padding:0;
font-family:'Segoe UI',sans-serif;
background:linear-gradient(-45deg,#0d1b2a,#1b263b,#415a77,#1b263b);
background-size:400% 400%;
animation:bg 15s infinite;
color:white;
}
@keyframes bg{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.container{
max-width:600px;
margin:50px auto;
background:rgba(255,255,255,0.07);
backdrop-filter:blur(15px);
padding:30px;
border-radius:25px;
box-shadow:0 20px 40px rgba(0,0,0,0.5);
}

h1{text-align:center;color:gold;}

input{
width:100%;
padding:12px;
margin-top:10px;
border-radius:12px;
border:2px solid gold;
background:rgba(255,255,255,0.1);
color:white;
font-size:15px;
}

button{
margin-top:15px;
padding:12px;
width:100%;
border-radius:50px;
border:none;
background:gold;
font-weight:bold;
cursor:pointer;
transition:0.3s;
}
button:hover{background:#ffd700cc;}

#linkBox{
margin-top:15px;
word-break:break-all;
background:black;
padding:10px;
border-radius:10px;
display:none;
font-size:14px;
}

.section-title{
margin-top:20px;
font-weight:bold;
color:gold;
}

.particle{
position:fixed;
bottom:-50px;
animation:fly 6s linear infinite;
pointer-events:none;
}
@keyframes fly{
to{transform:translateY(-110vh) rotate(360deg);opacity:0;}
}
</style>
</head>
<body>

<div class="container">
<h1>ğŸŒ™ Ø§ØµÙ†Ø¹ ØªÙ‡Ù†Ø¦Ø© Ø±Ù…Ø¶Ø§Ù† ğŸŒ™</h1>

<label>Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø³Ù„ Ø¥Ù„ÙŠÙ‡</label>
<input type="text" id="toName" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯">

<label>Ø§Ø³Ù…Ùƒ</label>
<input type="text" id="fromName" placeholder="Ù…Ø«Ø§Ù„: Ù…ØµØ·ÙÙ‰">

<label>ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</label>
<input type="text" id="password" placeholder="Ù…Ø«Ø§Ù„: 1234">

<div class="section-title">Ø¹Ø¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‡Ù†Ø¦Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ø­ØªÙ‰ 10)</div>
<div id="phrasesArea"></div>
<button onclick="addPhrase()">+ Ø¥Ø¶Ø§ÙØ© Ø¹Ø¨Ø§Ø±Ø©</button>

<div class="section-title">Ø±ÙˆØ§Ø¨Ø· ØµÙˆØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ø­ØªÙ‰ 10)</div>
<div id="imagesArea"></div>
<button onclick="addImage()">+ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø©</button>

<button onclick="generateLink()">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø®ØªØµØ± âœ¨</button>

<div id="linkBox"></div>
<button id="copyBtn" style="display:none;" onclick="copyLink()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>

</div>

<script>
let phraseCount=0;
let imageCount=0;

/* Ø¥Ø¶Ø§ÙØ© Ø¹Ø¨Ø§Ø±Ø© */
function addPhrase(){
if(phraseCount>=10){
alert("Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10 Ø¹Ø¨Ø§Ø±Ø§Øª ğŸ‘‘");
return;
}
const area=document.getElementById('phrasesArea');
let input=document.createElement('input');
input.placeholder="Ø§ÙƒØªØ¨ Ø¹Ø¨Ø§Ø±Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ©";
area.appendChild(input);
phraseCount++;
}

/* Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© */
function addImage(){
if(imageCount>=10){
alert("Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10 ØµÙˆØ± ğŸ‘‘");
return;
}
const area=document.getElementById('imagesArea');
let input=document.createElement('input');
input.placeholder="Ø­Ø· Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±";
area.appendChild(input);
imageCount++;
}

/* ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø§Ø¨Ø· */
async function generateLink(){
const to=document.getElementById('toName').value.trim();
const from=document.getElementById('fromName').value.trim();
const pass=document.getElementById('password').value.trim();

if(!to || !from || !pass){
alert("Ø§Ù…Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ ğŸ‘‘");
return;
}

/* ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª */
let phrases=[];
document.querySelectorAll('#phrasesArea input')
.forEach(i=>{
if(i.value.trim()!=""){
phrases.push(i.value.trim());
}
});

/* ØªØ¬Ù…ÙŠØ¹ Ø§Ù„ØµÙˆØ± */
let images=[];
document.querySelectorAll('#imagesArea input')
.forEach(i=>{
if(i.value.trim()!=""){
images.push(i.value.trim());
}
});

/* Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ */
let baseURL = window.location.origin +
window.location.pathname.replace(/\/$/, '') + "/message.html";

let longLink=`${baseURL}?to=${encodeURIComponent(to)}&from=${encodeURIComponent(from)}&p=${encodeURIComponent(pass)}`;

if(phrases.length>0){
longLink+=`&ph=${encodeURIComponent(phrases.join('|'))}`;
}

if(images.length>0){
longLink+=`&i=${encodeURIComponent(images.join(','))}`;
}

document.getElementById('linkBox').innerText="Ø¬Ø§Ø±ÙŠ ØªÙ‚ØµÙŠØ± Ø§Ù„Ø±Ø§Ø¨Ø· â³";
document.getElementById('linkBox').style.display='block';

/* ØªÙ‚ØµÙŠØ± TinyURL */
let shortLink = await shortenLink(longLink);

document.getElementById('linkBox').innerText=shortLink;
document.getElementById('copyBtn').style.display='block';
}

/* API TinyURL */
async function shortenLink(url){
try{
let response = await fetch(`https://tinyurl.com/api-create.php?url=${encodeURIComponent(url)}`);
let shortUrl = await response.text();
return shortUrl;
}catch(error){
console.log(error);
return url;
}
}

/* Ù†Ø³Ø® */
function copyLink(){
const text=document.getElementById('linkBox').innerText;
navigator.clipboard.writeText(text);
alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· âœ¨");
}

/* Ù…Ø¤Ø«Ø±Ø§Øª Ø±Ù…Ø¶Ø§Ù† */
function createParticle(){
let p=document.createElement('div');
p.className='particle';
p.innerText=['ğŸŒ™','âœ¨','ğŸ•Œ','ğŸ’›'][Math.floor(Math.random()*4)];
p.style.left=Math.random()*100+'vw';
p.style.fontSize='25px';
document.body.appendChild(p);
setTimeout(()=>p.remove(),6000);
}
setInterval(createParticle,400);
</script>

</body>
</html>
